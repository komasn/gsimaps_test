<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åˆ©ç”¨è¦ç´„æ©Ÿèƒ½ - ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</title>
  <link rel="stylesheet" type="text/css" href="./css/terms_of_service.css" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    h1 {
      color: #333;
      border-bottom: 2px solid #667eea;
      padding-bottom: 10px;
    }
    .button-group {
      margin: 20px 0;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      background-color: #667eea;
      color: white;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #5568d3;
    }
    button.danger {
      background-color: #f44336;
    }
    button.danger:hover {
      background-color: #da190b;
    }
    .status-box {
      margin: 20px 0;
      padding: 15px;
      border-left: 4px solid #667eea;
      background-color: #f9f9f9;
      border-radius: 4px;
    }
    .status-box h3 {
      margin-top: 0;
      color: #333;
    }
    .status-item {
      margin: 10px 0;
      font-size: 14px;
      color: #666;
    }
    .status-item strong {
      color: #333;
    }
    code {
      background-color: #f0f0f0;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
    }
    .info-box {
      background-color: #e3f2fd;
      border-left: 4px solid #2196F3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“‹ åˆ©ç”¨è¦ç´„æ©Ÿèƒ½ - ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</h1>
    
    <div class="info-box">
      <strong>ã“ã®ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ï¼š</strong> 
      åˆ©ç”¨è¦ç´„æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªã¨ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ãŸã‚ã®ãƒšãƒ¼ã‚¸ã§ã™ã€‚ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ä½¿ç”¨ã—ã¦å„æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚
    </div>

    <h2>ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½</h2>
    
    <div class="button-group">
      <button onclick="showTerms()">ğŸ“Œ åˆ©ç”¨è¦ç´„ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º</button>
      <button onclick="checkStatus()">âœ“ åŒæ„çŠ¶æ³ã‚’ç¢ºèª</button>
      <button onclick="clearData()">ğŸ”„ åŒæ„ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
      <button onclick="redirectTest()">ğŸ”— éåŒæ„ãƒšãƒ¼ã‚¸ã«ãƒ†ã‚¹ãƒˆé·ç§»</button>
    </div>

    <h2>ç¾åœ¨ã®çŠ¶æ…‹</h2>
    <div class="status-box">
      <h3>åŒæ„çŠ¶æ³</h3>
      <div class="status-item">
        <strong>åŒæ„æ¸ˆã¿:</strong> <span id="agreedStatus">-</span>
      </div>
      <div class="status-item">
        <strong>åŒæ„æ—¥æ™‚:</strong> <span id="agreedTimestamp">-</span>
      </div>
      <div class="status-item">
        <strong>ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚­ãƒ¼:</strong> <code id="storageKey">-</code>
      </div>
    </div>

    <h2>è¨­å®šæƒ…å ±</h2>
    <div class="status-box">
      <h3>TermsOfService è¨­å®š</h3>
      <div class="status-item">
        <strong>éåŒæ„æ™‚é·ç§»å…ˆ:</strong> <code id="configPath">-</code>
      </div>
      <div class="status-item">
        <strong>æ¯å›è¡¨ç¤º:</strong> <span id="configEveryLoad">-</span>
      </div>
    </div>

    <h2>ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª</h2>
    <ol>
      <li><strong>æ¯å›è¡¨ç¤ºã®ç¢ºèª</strong>
        <br>ã“ã®ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆã¾ãŸã¯ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ã™ã‚‹ãŸã³ã«ã€
        åˆ©ç”¨è¦ç´„ã®ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
      </li>
      <li><strong>åŒæ„å¾Œã®å‹•ä½œç¢ºèª</strong>
        <br>ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã€ŒåŒæ„ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‰ã˜ã¦ã‚µãƒ¼ãƒ“ã‚¹ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚
        ãŸã ã—ã€ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨å†åº¦ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
      </li>
      <li><strong>éåŒæ„æ™‚ã®å‹•ä½œç¢ºèª</strong>
        <br>ã€ŒåŒæ„ã—ãªã„ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€<code>/terms_disagreed.html</code> ã«é·ç§»ã—ã¾ã™ã€‚
      </li>
      <li><strong>ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ©Ÿèƒ½ã«ã¤ã„ã¦</strong>
        <br>ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«åŒæ„æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã›ã‚“ã€‚
        ãã®ãŸã‚ã€ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã³ã«åˆ©ç”¨è¦ç´„ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
      </li>
    </ol>

    <h2>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
    <div class="info-box">
      <strong>ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆï¼š</strong><br>
      1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª<br>
      2. ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰<br>
      3. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢<br>
      <br>
      <strong>ã‚¹ã‚¿ã‚¤ãƒ«ãŒå´©ã‚Œã¦ã„ã‚‹å ´åˆï¼š</strong><br>
      1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢<br>
      2. CSS ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç¢ºèªï¼‰
    </div>

  </div>

  <!-- åˆ©ç”¨è¦ç´„ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script type="text/javascript" src="js/terms_of_service.js"></script>

  <script>
    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«çŠ¶æ…‹ã‚’æ›´æ–°
    function updateStatus() {
      var status = TermsOfService.getAgreementStatus();
      var config = TermsOfService.config;

      document.getElementById('agreedStatus').textContent = status.isAgreed ? 'ã¯ã„ âœ“' : 'ã„ã„ãˆ âœ—';
      document.getElementById('agreedTimestamp').textContent = status.timestamp ? status.timestamp : 'æœªè¨­å®š';
      document.getElementById('storageKey').textContent = config.storageKey;
      document.getElementById('configPath').textContent = config.disagreePath;
      document.getElementById('configEveryLoad').textContent = config.showOnEveryLoad ? 'ã¯ã„' : 'ã„ã„ãˆï¼ˆåˆå›ã®ã¿ï¼‰';
    }

    // ãƒ†ã‚¹ãƒˆç”¨é–¢æ•°
    function showTerms() {
      TermsOfService.show();
    }

    function checkStatus() {
      updateStatus();
      alert('åŒæ„çŠ¶æ³: ' + (TermsOfService.isAgreed() ? 'åŒæ„æ¸ˆã¿ âœ“' : 'æœªåŒæ„ âœ—') + 
            '\nåŒæ„æ—¥æ™‚: ' + (TermsOfService.getAgreementStatus().timestamp || 'æœªè¨­å®š'));
    }

    function clearData() {
      alert('æ³¨ï¼šã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«åŒæ„æƒ…å ±ã‚’ä¿å­˜ã—ã¦ã„ã¾ã›ã‚“ã€‚\nã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã³ã«åˆ©ç”¨è¦ç´„ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚');
    }

    function redirectTest() {
      if (confirm('éåŒæ„ãƒšãƒ¼ã‚¸ï¼ˆ/terms_disagreed.htmlï¼‰ã«é·ç§»ã—ã¾ã™ã€‚')) {
        window.location.href = TermsOfService.config.disagreePath;
      }
    }

    // åˆæœŸè¡¨ç¤º
    document.addEventListener('DOMContentLoaded', function() {
      updateStatus();
      console.log('ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
      console.log('TermsOfService ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:', TermsOfService);
    });
  </script>
</body>
</html>
